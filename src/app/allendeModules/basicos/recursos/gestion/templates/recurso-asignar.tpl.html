<div ng-hide="vm.formControl.loading">
	<form name="formViewServicio" accept-charset="utf-8" novalidate>
		<div class="modal-header">
			<h4 class="modal-title">
				<sa-icon name="NEW"></sa-icon>Asignar Recurso A Servicio
			</h4>
		</div>
		<div class="modal-body">
			<div class="row fila">
				<h4>Búsqueda avanzada</h4>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
						<label for="txt_numero_servicio" class="label-control">Nº Recurso</label>
						<input type="number" class="form-control"
							id="txt_numero_servicio"
							name="idServicio"
							min="0"
							max="9999"
							ng-model="vm.filter.id"
							ng-change="vm.paginacion.pageChanged()">
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
						<label for="txt_nombre_recurso" class="label-control ">Nombre Recurso</label>
						<input type="text" class="form-control text-uppercase"
							id="txt_nombre_recurso"
							name="nombreRecurso"
							ng-class="{ error : formFilter.id.$error.number }"
							ng-model="vm.filter.nombreRecurso"
							ng-change="vm.paginacion.pageChanged()">
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
						<label for="cmb_sucursal" class="label-control">Tipo Recurso</label>
						<select class="form-control"
							id="cmb_sucursal"
							ng-model="vm.filter.tipoRecurso"
							ng-change="vm.paginacion.pageChanged()"
							ng-options="tipoRecurso.Nombre for tipoRecurso in vm.data.tipoRecursos track by tipoRecurso.Id">
							<option value="">TODOS</option>
						</select>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 pull-left">
						<label for="txt_cantaidad_camas" class="label-control">Cantidad Recursos </label>
						<div >
							<strong ng-bind="vm.paginacion.totalItems"></strong>
						</div>
					</div>
					<div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 pull-right">
						<button type="button" class="btn btn-default btn-row btn-block"
							ng-click="vm.filter.clean()">
							Limpiar
						</button>
					</div>
			</div>
			<sa-recursos-list
						ng-model="vm.filter.recursos"

						btn-asignar-click="vm.recurso.asignar(pRecurso)"
						btn-asignar-disabled="vm.formControl.loading"
						btn-asignar-if="!vm.formControl.loading"

							>
			</sa-recursos-list>
			<div class="row" >
				<div class="col-sm-12">
					<div class="text-center">
						<div uib-pagination 
							max-size="10"
							items-per-page="vm.paginacion.pageSize"
							total-items="vm.paginacion.totalItems"
							ng-model="vm.paginacion.currentPage"
							ng-change="vm.paginacion.pageChanged()"
							previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;">
						</div>
					</div>
				</div>
			</div>		
		</div>
		<div class="modal-footer" ng-hide="vm.formControl.loading">
			<input type="submit" id="btnAgregarEditar" value="Aceptar"
				class="btn btn-default"
				ng-click="vm.formControl.ok()" >
			<!-- 	<input type="submit"
				class="btn "
				ng-click="vm.formControl.cancel()" value="Cancelar"> -->
		</div>
	</form>
</div>
<sa-loading ng-if="vm.formControl.loading" ></sa-loading>