<div class="row fila" ng-show="!vm.loading">

	<div class="col-xs-4 col-sm-4 col-md-2 col-lg-2">
		<sa-sucursal-combo-filtrado ng-model="vm.sucursal" todas="false">
		</sa-sucursal-combo-filtrado>
	</div>

	<div class="col-xs-12 col-sm-8 col-md-8 col-lg-5">
		<sa-piso-sector-contenedor sucursal="vm.sucursal" piso="vm.piso" sector="vm.sector" deposito="vm.deposito" mostrar-deposito="true">
		</sa-piso-sector-contenedor>
	</div>

	<div class="col-xs-4 col-sm-4 col-md-2 col-lg-2" sa-form-input>
		<label for="tipoMovimiento_selector" id="tipoMovimiento_label">Tipo Movimiento</label>
		<select class="form-control" id="tipoMovimiento_selector" name="tipoMovimiento_name" ng-model="vm.tipoMovimiento" ng-disabled="vm.loading"
		    ng-options="tipoMovimiento as tipoMovimiento.Nombre for tipoMovimiento in vm.tipoMovimientosList">
			<option value="">--SELECC. Tipo--</option>
		</select>
	</div>

	<div class="col-xs-8 col-sm-8 col-md-4 col-lg-3">
		<div class="row">
			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" sa-form-input>
				<label for="datePickerDesde ">Fecha Desde</label>
				<sa-date-time-picker ng-model="vm.fechaDesde " id="1" type="date">
				</sa-date-time-picker>
			</div>

			<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" sa-form-input>
				<label for="datePickerHasta ">Fecha Hasta</label>
				<sa-date-time-picker ng-model="vm.fechaHasta " id="2" type="date">
				</sa-date-time-picker>
			</div>
		</div>
	</div>

	<div class="col-xs-12 col-sm-4 col-md-6 col-lg-4">
		<!-- filtro de internado -->
		<sa-buscador-internado-por-sector internado="vm.filtroInternado" placeholder="'Filtrar por internado'" sector="vm.sector">
		</sa-buscador-internado-por-sector>
	</div>

	<div class="col-xs-12 col-sm-8 col-md-8 col-lg-6">
		<!-- filtro de producto/stockeable -->
		<!-- <sa-selector-producto stockeable="vm.stockeable" loading="vm.loading">
		</sa-selector-producto> -->
		<sa-buscador-dinamico-producto stockeable="vm.stockeable"  borrar-datos="false"></sa-buscador-dinamico-producto>

	</div>
	
	<div class="col-xs-4 col-sm-4 col-md-2 col-lg-2" sa-form-input>
		<label for="modoEntrega_selector" id="estadoMovimiento_label">Estado Movimiento</label>
		<select class="form-control" id="estadoMovimiento_selector" name="estadoMovimiento_name" ng-model="vm.estadoMovimiento" ng-disabled="vm.loading"
		    ng-options="estadoMovimiento as estadoMovimiento.Nombre for estadoMovimiento in vm.estadoMovimientoList">
			<option value="">TODOS</option>
		</select>
	</div>

	<div class="col-xs-12 col-sm-4 col-md-4 col-lg-2 pull-right">
		<div class="row">
			<div class="col-xs-6">
				<button sa-btn-search ng-click="vm.buscar()" class="btn-row" sa-punto-click="vm.buscar()" id="enfermeria-listado-buscar-btn">
					Buscar
				</button>
			</div>
			<div class="col-xs-6">
				<button sa-btn-clean ng-click="vm.limpiar()" class="btn-row pull-right" sa-punto-click="vm.limpiar()" id="enfermeria-listado-limpiar-btn">
					Limpiar
				</button>
			</div>
		</div>
	</div>

</div>

<!-- ROW TABLA -->
<div class="row ">
	
		<div class="col-xs-12" ng-if="vm.listaDeMovimientos.Rows && vm.listaDeMovimientos.Rows.length && vm.listaDeMovimientos.Columns && vm.listaDeMovimientos.Columns.length">
			<!-- Se define el container que gestiona la tabla-->
			<fw-table-container>
				<fw-table-config exportable="false" sortable="true" paginable="true" column-config="true">
				</fw-table-config>
				<fw-table-sorting sort-change="vm.table.sorting(sorting)">

				</fw-table-sorting>
				<fw-table-rowset data="vm.listaDeMovimientos.Rows" click-action="clickAction({row:row})">
				</fw-table-rowset>
				<!-- Se define un columnset en el cual se setean (opcional) las columnas por datos -->
				<fw-table-columnset data="vm.listaDeMovimientos.Columns">
					<!-- Se define una column con los datos de una columna (opcional)-->
					<!-- Se pueden agregar las columnas por datos y ademÃ¡s agregarlas de a una. -->
					<!-- <fw-table-column
									label="'Prueba'"
									field="'otroCampo'">
								</fw-table-column> -->
				</fw-table-columnset>
				<!-- Se definen los botones de la lista de "Acciones" u "Opciones" -->
				<fw-table-buttonset>
					<fw-table-button visible="true" label="'Ver Detalle'" icon="'VIEW'" action="vm.verDetalleItem({row:row})">
					</fw-table-button>

					<fw-table-button visible="true" label="'Autorizar Movimiento'" icon="'CHECK'" action="vm.autorizarMovimiento({row:row})"
					    visible-if="vm.ifAutorizarMovimiento({row:row})">
					</fw-table-button>

					<fw-table-button visible="true" label="'Cancelar Movimiento'" icon="'DEL'" action="vm.cancelarMovimiento({row:row})" visible-if="vm.ifCancelarMovimiento({row:row})">
					</fw-table-button>

					<fw-table-button visible="true" label="'Devolver'" icon="'REPLY'" action="vm.devolver({row:row})" visible-if="vm.ifDevolver({row:row})">
					</fw-table-button>

					<fw-table-button visible="true" label="'Imprimir Remito'" icon="'PRINT'" action="vm.imprimirRemito({row:row})" visible-if="vm.ifImprimirRemito({row:row})">
					</fw-table-button>
				</fw-table-buttonset>
				<!-- Si se desea paginacion pueden ser de 2 (dos) tipos: -->
				<!-- Paginacion externa : se usa con el back-end: se deben setear todos los datos -->
				<fw-table-pagination-ext page-change="vm.getPage(pagination)" page-size="vm.tableOption.PageSize" total-items="vm.listaDeMovimientos.RowCount"
				    current-page="vm.tableOption.CurrentPage">
				</fw-table-pagination-ext>
				<!-- Paginacion interna : no se necesita definir ningun valor, se toman los por defecto.-->
				<!-- Opcionalmente se puede redefinir page-size -->
				<!-- <fw-table-pagination page-size="5"></fw-table-pagination> -->
				<!-- Por ultimo el renderizado de la tabla -->
				<fw-table></fw-table>
			</fw-table-container>
		</div>

	
</div>

<sa-loading-modal ng-if="vm.loading"></sa-loading-modal>