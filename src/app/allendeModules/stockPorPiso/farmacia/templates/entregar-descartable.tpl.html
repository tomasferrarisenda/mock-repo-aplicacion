
<form name="formPersona" accept-charset="utf-8" novalidate >
	<div class="modal-header">
		<h4 class="modal-title">Entrega Ventanilla</h4>
	</div>
	<div class="modal-body">
		<div class="row fila">
			<h4>
				Entrega para: {{data.internacion}}
			</h4>
			<div class="col-xs-12 col-sm-8 col-md-7 col-lg-6 scroll-dropdown">
				<label class="label-control">Producto:</label>
				<input 	name="producto" 
						id="producto" type="text" 
						placeholder="Nuevo producto..." 
						ng-model="formData.productoNuevo"
						ng-disabled=""
						uib-typeahead="producto as (producto.nombre +' | '+ producto.presentacion + ' | Stock: ' + producto.stock) for producto in data.materiales | filter:$viewValue | limitTo:200" 
						class="form-control no-valid"
						typeahead-on-select="formControl.nuevoProducto()"
						ng-change=""
						typeahead-select-on-exact="true">
				<!-- <span class="input-group-btn">
					<button id="estado_button" class="btn btn-default " type="button"
							ng-click="formControl.agregarProducto()">
							<sa-icon name="NEW"></sa-icon>
					</button>
				</span> -->
			</div>
			<div class="col-xs-12 col-sm-4 col-md-5 col-lg-4">
				<label class="label-control">Entregar a:</label>
				<div class="input-group">
					<input 	type="text" class="form-control"
							ng-model="data.usuarioRetira.userCompleteName"
							ng-disabled="true">
					<span class="input-group-btn">
						<button class="btn btn-default btn-loading" 
								uib-tooltip="Registrar" 
								tooltip-placement="top" 
								ng-click ="formControl.registrarRetira()"
								sa-punto-click ="formControl.registrarRetira()"
								sa-enter>
							<span ng-class="icono.SEARCH" class="glyphicon glyphicon-search"></span>
						</button>
					</span>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12 table-responsive">
				<table class="table table-hover" >
					<thead>
						<tr >
							<th colspan="3" class="text-center"></th>
						</tr>
						<tr class="thead-azul">
						<tr class="cabecera-tabla">
							<td class="text-left">Codigo</td>
							<td class="text-left">Nombre</td>
							<td class="text-left">Presentacion</td>
							<td class="text-left">Stock</td>
							<td class="text-left">Stock Drogueria</td>
							<td class="text-center" style="width: 12%;">Cantidad</td>
							<!-- <th class="text-center">Facturar</th> -->
						</tr>
					</thead>
					<tbody ng-hide="formControl.loading">
						<tr ng-repeat="facturacion in data.facturaciones">
							<td class="row text-left">{{ facturacion.Material.numero_articulo }}</td>
							<td class="row text-left">{{ facturacion.Material.nombre }}</td>
							<td class="row text-left">{{ facturacion.Material.presentacion }}</td>
							<td ng-if="formControl.nuevaCordoba" class="row text-left">{{ facturacion.Material.stock_nueva_cordoba }}</td>
							<td ng-if="formControl.cerro" class="row text-left">{{ facturacion.Material.stock_cerro }}</td>
							<td class="row text-left">{{ facturacion.Material.stock_drogeria }}</td>
							<td class="row text-center">
								<div class="input-group">
									<span class="input-group-btn">
										<button type="button" 
											class="btn btn-white btn-xs"
											ng-disabled="facturacion.minimo || facturacion.deshabilitado"
											ng-click="formControl.resta(facturacion)">
											<sa-icon name="MINUS"></sa-icon>
										</button>
									</span>
									<input type="text" min="0"
										class="form-control input-sm"
										ng-model="facturacion.cantidad"
										ng-disabled="true"
										required>
											
									<span class="input-group-btn">
										<button type="button"
											ng-disabled="facturacion.deshabilitado"
											class="btn btn-white btn-xs"
											ng-click="formControl.suma(facturacion)">
											<sa-icon name="NEW"></sa-icon>
										</button>
									</span>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<sa-loading ng-if="formControl.loading"></sa-loading>
	</div>
	<div class="modal-footer" >
		<button type="button"
			class="btn btn-default"
			ng-disabled=" formControl.loading"
			ng-click="formControl.ok()">Aceptar</button>
		<button type="button"
			class="btn btn-cancelar"
			ng-disabled=""
			ng-click="formControl.cancel()">Cancelar</button>
	</div>
</form>
