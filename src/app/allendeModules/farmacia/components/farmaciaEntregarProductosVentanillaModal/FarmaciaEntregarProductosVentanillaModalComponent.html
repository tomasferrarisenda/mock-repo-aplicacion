<sa-modal-header loading="vm.loading" title-name="Entregar Productos" title-icon="SHARE">
</sa-modal-header>
<sa-modal-body loading="vm.loading">

	<div class="row">
		<div class="col-xs-6">
			<h4>Entrega para: {{vm.internado.NumeroInternado}} || {{vm.internado.Paciente}} || Hab:
				{{vm.internado.Habitacion}} Cama: {{vm.internado.Cama}}</h4>
		</div>
		<div class="col-xs-2">
			<text>Modo de Entrega: </text>
			<button type="button" ng-click="vm.changeModoEntrega()"
				class="btn btn-block btn-info color-warning">{{vm.modoEntrega.Nombre}}</button>
		</div>
	</div>

	<div class="row">
		<div class="col-xs-12">
			<!-- <sa-selector-producto stockeable="vm.stockeable" loading="vm.loading">
			</sa-selector-producto> -->
			<sa-buscador-dinamico-producto stockeable="vm.stockeable" loading="vm.loading" borrar-datos="true">
			</sa-buscador-dinamico-producto>
		</div>
		<!-- <div class="col-xs-2">
			<button type="button" class="btn btn-sm btn-row btn-success" ng-click="vm.agregarProducto()" 
			ng-disabled="!vm.stockeable.Id" uib-tooltip="Agregar Producto"  
			uib-tooltip-placement="top">
				<sa-icon name="NEW"></sa-icon>
			</button>
		</div> -->

	</div>

	<div class="row" ng-if="vm.productosList.length > 0">
		<div class="col-xs-12">
			<div class="tableturnos table-responsive">
				<table class="table table-fixed table-cursor-pointer table-hover">
					<thead>
						<tr class="cabecera-tabla">
							<th class="col-xs-1 text-center">Codigo</th>
							<th class="col-xs-4 text-center">Nombre/Presentacion</th>
							<th class="col-xs-2 text-center">Stock Farmacia</th>
							<th class="col-xs-2 text-center">Stock Drogueria</th>
							<th class="col-xs-2 text-center">Cantidad</th>
							<th class="col-xs-1 text-center">Acciones</th>
						</tr>
					</thead>
					<tbody class="bodyturnos">
						<tr ng-repeat="row in vm.productosList" class="rowturnos">
							<td class="col-xs-1 text-center ">{{row.Codigo}}</td>
							<td class="col-xs-4 text-center">{{row.Nombre}} - {{row.Presentacion}}</td>
							<td class="col-xs-2 text-center">{{row.StockFarmacia}}</td>
							<td class="col-xs-2 text-center">{{row.StockDrogueria}}</td>
							<td class="col-xs-2 text-center">
								<div class="input-group">
									<span class="input-group-btn">
										<button type="button" ng-hide="" class="btn btn-white btn-xs" ng-disabled=""
											ng-click="vm.resta(row)">
											<sa-icon name="MINUS"></sa-icon>
										</button>
									</span>
									<input type="text" min="0" class="form-control input-sm text-right"
										ng-model="row.Cantidad" ng-disabled="true">
									<span class="input-group-btn">
										<button type="button" ng-hide="" class="btn btn-white btn-xs" ng-disabled=""
											ng-click="vm.suma(row)">
											<sa-icon name="NEW"></sa-icon>
										</button>
									</span>
								</div>
							</td>
							<td class="col-xs-1 text-center">
								<button type="button" class="btn btn-white btn-xs" uib-tooltip="Eliminar"
									tooltip-placement="top" ng-click="vm.quitarProductoDeLista(row)">
									<sa-icon name="DEL"></sa-icon>
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

	<!-- 
	<div class="row" ng-if="vm.productosList.length > 0">
		<div class="col-xs-12 col-sm-4 col-md-5 col-lg-6 pull-right">
			<label class="label-control">Entregar a:</label>
			<div class="input-group">
				<input type="text" class="form-control" ng-model="data.usuarioRetira.userCompleteName" ng-disabled="true">
				<span class="input-group-btn">
					<button class="btn btn-default btn-loading" uib-tooltip="Registrar" tooltip-placement="top" ng-click="formControl.registrarRetira()">
						<span ng-class="icono.SEARCH" class="glyphicon glyphicon-search"></span>
					</button>
				</span>
			</div>
		</div>
	</div> -->

</sa-modal-body>
<sa-modal-footer loading="vm.loading">

	<button type="button" class="btn btn-default" ng-disabled="vm.loading" ng-click="vm.cancel()">Cancelar</button>
	<button type="button" class="btn btn-success" ng-disabled="vm.loading || vm.productosList.length == 0"
		ng-click="vm.guardar()">Guardar</button>

</sa-modal-footer>