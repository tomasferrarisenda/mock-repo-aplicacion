<div class="row fila">

	<div class="col-xs-12 col-sm-3 col-md-2 col-lg-2">
		<sa-sucursal-select sucursal="vm.sucursal">
		</sa-sucursal-select>
	</div>

	<div class="col-xs-12 col-sm-9 col-md-8 col-lg-4">
		<sa-piso-sector-contenedor sucursal="vm.sucursal" piso="vm.piso" sector="vm.sector">
		</sa-piso-sector-contenedor>
	</div>

	<div class="col-xs-4 col-sm-3 col-md-2 col-lg-2" sa-form-input>
		<label for="farmacia-listado-indic-medi-tipomovimiento-select" id="farmacia-listado-indic-medi-tipomovimiento-label">Tipo Movimiento</label>
		<select class="form-control" id="farmacia-listado-indic-medi-tipomovimiento-select" name="tipoMovimiento_name" ng-model="vm.tipoMovimiento" ng-disabled="vm.loading"
		    ng-options="tipoMovimiento as tipoMovimiento.Nombre for tipoMovimiento in vm.tiposMovimientosList">
			<option value="">TODOS</option>
		</select>
	</div>

	<div class="col-xs-12 col-sm-4 col-md-3 col-lg-2">
		<label for="datePickerDesde ">Fecha Desde</label>
		<sa-date-time-picker ng-model="vm.fechaDesde " id="1" type="date" ng-change="vm.changeFechaDesde()"></sa-date-time-picker>
	</div>

	<div class="col-xs-12 col-sm-4 col-md-3 col-lg-2">
		<label for="datePickerDesde ">Fecha Hasta</label>
		<sa-date-time-picker ng-model="vm.fechaHasta " id="2" type="date" min="vm.fechadesdeMin"></sa-date-time-picker>
	</div>

	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-6">
		<!-- filtro de internado -->
		<sa-selector-internado internado="vm.internado" numero-internado="vm.numeroInternado"></sa-selector-internado>
	</div>

	<div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" sa-form-input>
		<label for="farmacia-listado-indic-medi-modoentrega-select" id="farmacia-listado-indic-medi-modoentrega-label">Modo Entrega</label>
		<select class="form-control" id="farmacia-listado-indic-medi-modoentrega-select" name="modoEntrega_name" ng-model="vm.modoEntrega" ng-disabled="vm.loading"
		    ng-options="modoEntrega as modoEntrega.Nombre for modoEntrega in vm.modosEntregaList">
			<option value="">TODOS</option>
		</select>
	</div>

	<div class="col-xs-4 col-sm-4 col-md-3 col-lg-2" sa-form-input>
		<label for="farmacia-listado-indic-medi-estadomov-select" id="farmacia-listado-indic-medi-estadomov-label">Estado Movimiento</label>
		<select class="form-control" id="farmacia-listado-indic-medi-estadomov-select" name="estadoMovimiento_name" ng-model="vm.estadoMovimiento" ng-disabled="vm.loading"
		    ng-options="estadoMovimiento as estadoMovimiento.Nombre for estadoMovimiento in vm.estadoMovimientoList">
			<option value="">TODOS</option>
		</select>
	</div>

	<div class="col-xs-12 col-sm-4 col-md-3 col-lg-2 pull-right">
		<div class="row">
			<div class="col-xs-6">
				<button sa-btn-search ng-click="vm.buscar()" class="btn-row" sa-punto-click="vm.buscar()" id="farmacia-listado-indic-medi-buscar-btn">
					Buscar
				</button>
			</div>
			<div class="col-xs-6">
				<button sa-btn-clean ng-click="vm.limpiar()" class="btn-row pull-right" sa-punto-click="vm.limpiar()" id="farmacia-listado-indic-medi-limpiar-btn">
					Limpiar
				</button>
			</div>
		</div>
	</div>

</div>
<div class="row">
	<div class="col-xs-12" ng-if="vm.listaMovimientos.Rows && vm.listaMovimientos.Rows.length && vm.listaMovimientos.Columns && vm.listaMovimientos.Columns.length">
		<!-- Se define el container que gestiona la tabla-->
		<fw-table-container>
			<fw-table-config exportable="false" sortable="true" paginable="true" column-config="true">
			</fw-table-config>
			<fw-table-sorting sort-change="vm.table.sorting(sorting)">

			</fw-table-sorting>
			<fw-table-rowset data="vm.listaMovimientos.Rows" click-action="clickAction({row:row})" id-elements="farmacia-listado-indic-medic-rows">
			</fw-table-rowset>
			<!-- Se define un columnset en el cual se setean (opcional) las columnas por datos -->
			<fw-table-columnset data="vm.listaMovimientos.Columns">
				<!-- Se define una column con los datos de una columna (opcional)-->
				<!-- Se pueden agregar las columnas por datos y ademÃ¡s agregarlas de a una. -->
				<!-- <fw-table-column
										label="'Prueba'"
										field="'otroCampo'">
									</fw-table-column> -->
			</fw-table-columnset>
			<!-- Se definen los botones de la lista de "Acciones" u "Opciones" -->
			<fw-table-buttonset>
				<fw-table-button visible="true" label="'Ver Detalle'" icon="'VIEW'" action="vm.verDetalleItem(row)">
				</fw-table-button>
				
				<fw-table-button visible="true" visible-if="vm.esUnaEntrega({row:row})" label="'Imprimir Informe de Entrega'" 
				icon="'PRINT'" action="vm.imprimirInforme(row)" id-element="farmacia-confi-prod-table-row">
				</fw-table-button>
				
				<fw-table-button visible="true" label="'Imprimir Stickers Con Zebra'" icon="'PRINT2'" action="vm.imprimirStickersPorMovimiento(row)" visible-if="vm.impresionZebraIf"
				id-element="farmacia-confi-prod-table-row">
				</fw-table-button>
				
				<fw-table-button visible="true" label="'Imprimir Remito'" icon="'PRINT'" action="vm.imprimirRemito(row)"
				id-element="farmacia-confi-prod-table-row">
				</fw-table-button>

				<fw-table-button visible="true" label="'Autorizar Movimiento'" icon="'OK'" action="vm.autorizarMovimiento(row)" visible-if="row.PuedeAutorizar && row.IdTipoMovimiento == 7"
				id-element="farmacia-confi-prod-table-row">
				</fw-table-button>

				<fw-table-button visible="true" label="'Cancelar Movimiento'" icon="'CANCEL'" action="vm.cancelarMovimiento(row)" visible-if="row.PuedeCancelar && row.IdTipoMovimiento == 7"
				id-element="farmacia-confi-prod-table-row">
				</fw-table-button>

			</fw-table-buttonset>
			<!-- Si se desea paginacion pueden ser de 2 (dos) tipos: -->
			<!-- Paginacion externa : se usa con el back-end: se deben setear todos los datos -->
			<fw-table-pagination-ext page-change="vm.getPage(pagination)" page-size="vm.tableOption.PageSize" total-items="vm.listaMovimientos.RowCount"
			    current-page="vm.tableOption.CurrentPage">
			</fw-table-pagination-ext>
			<!-- Paginacion interna : no se necesita definir ningun valor, se toman los por defecto.-->
			<!-- Opcionalmente se puede redefinir page-size -->
			<!-- <fw-table-pagination page-size="5"></fw-table-pagination> -->
			<!-- Por ultimo el renderizado de la tabla -->
			<fw-table></fw-table>
		</fw-table-container>
	</div>
</div>
<sa-loading-modal ng-if="vm.loading"></sa-loading-modal>