<form name="formProtesis" accept-charset="utf-8" novalidate>
	<sa-modal-header
		title-name="{{vm.title.page}}"
		title-icon="EDIT" >
	</sa-modal-header>
	<sa-modal-body loading="vm.formControl.loading">
		<div class="row fila">
			<h4>Datos cargados por el médico</h4>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Nombre prótesis</label>
				<div ng-bind="vm.data.protesisActual.nombre_protesis"></div>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Marca sugerida</label>
				<div ng-bind="vm.data.protesisActual.ProveedorPreadmisionSugerido.nombre"></div>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  form-group">
				<label >Observaciones de prótesis</label>
				<div ng-bind="vm.data.protesisActual.observaciones_protesis"></div>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-6  form-group">
				<label >Prioridad Protesis</label>
				<div ng-bind="vm.data.protesisActual.PrioridadProtesis.nombre"></div>
			</div>
		</div>
		<div class="row fila fila-not">
			<h4>Datos de gestión</h4>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Tipo de gestión (*) </label>
				<select class="form-control"
					name="tipoGestionProtesisActual"
					ng-model="vm.data.protesisActual.TipoGestion"
					ng-options="tipoProtesis.nombre_tipo_protesis for tipoProtesis in vm.data.tiposGestion track by tipoProtesis.id_tipo_protesis_preadmision"
					ng-required="true">
					<option value="">--SELECCIONAR--</option>
				</select>
				<sa-text-error model="formProtesis.tipoGestionProtesisActual"></sa-text-error>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Dificultad de Gestión (*) </label>
				<select class="form-control"
						name="dificultadGestionProtesisActual"
						ng-model="vm.data.protesisActual.DificultadGestion"
						ng-options="dificultad.nombre_dificultad_gestion for dificultad in vm.data.dificultadesGestion track by dificultad.id_dificultad_gestion"
						ng-required="true">
						<option value="">--SELECCIONAR--</option>
				</select>
				<sa-text-error model="formProtesis.dificultadGestionProtesisActual"></sa-text-error>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Estado de prótesis (*) </label>
				<select class="form-control"
					name="estadoProtesisActual"
					ng-model="vm.data.protesisActual.EstadoAutorizacion"
					ng-options="estado.nombre for estado in vm.data.estadosProtesisAutorizacion track by estado.id"
					ng-required="true">
					<option value="">--SELECCIONAR--</option>
				</select>
				<sa-text-error model="formProtesis.estadoProtesisActual"></sa-text-error>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group"
				ng-hide="vm.data.protesisActual.EstadoAutorizacion.nombre!='AUTORIZADO C/OBS.'">
				<label >Marca aprobada (*) </label>
				<select class="form-control"
					name="proveedorAprobadoProtesisActual"
					ng-model="vm.data.protesisActual.ProveedorPreadmisionAprobado"
					ng-options="proveedor.nombre for proveedor in vm.data.proveedoresPreAdmision track by proveedor.numpro"
					ng-required="vm.data.protesisActual.EstadoAutorizacion.nombre=='AUTORIZADO C/OBS.'">
					<option value="">--SELECCIONAR--</option>
				</select>
				<sa-text-error model="formProtesis.proveedorAprobadoProtesisActual"></sa-text-error>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group"
				ng-hide="vm.data.protesisActual.TipoGestion.nombre_tipo_protesis=='PROVISTA POR TERCEROS'">
				<label >Presupuesto (*) </label>
				<div class="input-group">
					<span class="input-group-addon">$</span>
					<input type="number" class="form-control"
						name="presupuestoProtesisActual"
						ng-model="vm.data.protesisActual.presupuesto"
						ng-required="vm.data.protesisActual.TipoGestion.nombre_tipo_protesis=='PROPIA'"
						min="0" >
				</div>
				<sa-text-error model="formProtesis.presupuestoProtesisActual"></sa-text-error>
			</div>
			<div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 form-group">
				<label>Fecha probable de recepcion (*)</label>
				<sa-date-picker
					name="fechaRecepcionProbable"
					model="vm.data.protesisActual.fecha_recepcion_probable"
					required="true"
					min-date="vm.today" >
				</sa-date-picker>
			</div>
		</div>
		<div class="row">
			<!-- <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Tipo de prótesis (*) </label>
				<select class="form-control"
					name="tipoProtesisPreadmision"
					ng-model="vm.data.protesisActual.TipoProtesis"
						ng-options="tipo.nombre for tipo in vm.data.tiposPreadmision track by tipo.id"
					ng-required="true">
					<option value="">--SELECCIONAR--</option>
				</select>
				<sa-text-error model="formProtesis.tipoProtesisPreadmision"></sa-text-error>
			</div> -->
			<div class="col-xs-12 col-sm-12 col-md-6 col-lg-6  form-group">
				<label >Depósito destino de prótesis (*) </label>
				<select class="form-control"
					name="depositoProtesisActual"
					ng-model="vm.data.protesisActual.DepositoProtesisDestino"
					ng-options="deposito.nombre_deposito_protesis for deposito in vm.data.depositosProtesis track by deposito.id_deposito_protesis"
					ng-required="true">
					<option value="">--SELECCIONAR--</option>
				</select>
				<sa-text-error model="formProtesis.depositoProtesisActual"></sa-text-error>
			</div>
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12  form-group">
				<label >Observaciones de presupuesto</label>
				<textarea type="text" class="form-control " placeholder="Observaciones sobre presupuesto"
					maxlength="255"
					name="observacionesPresupuestoActual"
					ng-model="vm.data.protesisActual.observaciones_presupuesto" >
				</textarea>
			</div>
		</div>
	</sa-modal-body>
	<sa-modal-footer
		btn-ok-click="vm.formControl.ok()"
		btn-ok-disabled="!formProtesis.$valid"
		btn-cancel-click="vm.formControl.cancel()">
	</sa-modal-footer>
</form>