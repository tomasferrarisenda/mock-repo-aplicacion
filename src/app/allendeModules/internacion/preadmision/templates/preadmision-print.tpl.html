<div id="print-content" class="container-print">
	<div class="page" >
		<sa-modal-header
			print="true"
			fecha="vm.today"
			sucursal="vm.data.solicitud.Sucursal">

			<h4 ng-if="vm.formControl.esOrdenInternacion">ORDEN DE INTERNACIÓN Nº {{ vm.numeroSolicitud }}</h4>
			<h4 ng-if="vm.formControl.esRP">Rp/ Nº {{ vm.numeroSolicitud }}</h4>
			<h4 ng-if="vm.formControl.esPedidoMaterial">Pedido de Materiales Nº {{ vm.numeroSolicitud }}</h4>
			<h4 ng-if="vm.formControl.esVer">Ver solicitud Nº {{ vm.numeroSolicitud }}</h4>
		</sa-modal-header>
		<sa-modal-body loading="vm.formControl.dataLoading">
			<sa-paciente-print
				title="Datos del paciente"
				model="vm.data.solicitud.Paciente" >
			</sa-paciente-print>
			<sa-afiliacion-internado
				print="true"
				model="vm.data.solicitud.IntervencionAdmision"
				modulada="vm.data.solicitud.es_modulo">
			</sa-afiliacion-internado>
			<div class="row fila fila-print">
				<h4>Datos de admisión</h4>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Fecha de Preadmision</label>
					<div ng-bind="vm.data.solicitud.fecha_solicitud | date : 'dd/MM/yyyy'"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion && vm.data.solicitud.IntervencionAdmision.fecha_cirugia_probable != null">
					<label class="">Fecha de cirugía</label>
					<div ng-bind="vm.data.solicitud.IntervencionAdmision.fecha_cirugia_probable | date : 'dd/MM/yyyy'"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Fecha de internación</label>
					<div ng-bind="vm.data.solicitud.fecha_admision_probable | date : 'dd/MM/yyyy'"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Cant. total de días</label>
					<div ng-bind="vm.data.solicitud.cantidad_dias_internacion"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Cant. detallada de días</label>
					<ul>
						<li ng-repeat="dia in vm.data.solicitud.DiasInternacion" ng-if="dia.cantidad_dias">
							<span>
								{{ dia.CategoriaHabitacion.nombre_categoria }} : {{ dia.cantidad_dias }}
							</span>
						</li>
					</ul>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Establecimiento Asistencial</label>
					<div >Sanatorio Allende S.A.</div>
				</div>
				<div class="col-xs-12 ">
					<label class="">Diagnóstico</label>
					<div ng-bind="vm.data.solicitud.diagnostico"></div>
				</div>
				<div class="col-xs-12 " ng-if="vm.formControl.esRP || vm.formControl.esPedidoMaterial || vm.formControl.esOrdenInternacion">
					<label>Procedimientos</label>
					<ul>
						<li ng-repeat="detalle in vm.data.solicitud.IntervencionAdmision.DetallesIntervencion | filter:{id_origen_practica:29}">
							{{ detalle.PracticaMedica.codigo_practica_medica }} - {{ detalle.PracticaMedica.nombre_practica_medica }}
						</li>
					</ul>
				</div>
			</div>
			<div class="row fila-print">
				<h4>Datos del médico solicitante</h4>
				<div class="col-xs-5 ">
					<label class="">Nombre y apellido</label>
					<div ng-bind="vm.data.solicitud.MedicoSolicitante.nombre_completo" ></div>
				</div>
				<div class="col-xs-2 ">
					<label class="">Matrícula</label>
					<div ng-bind="vm.data.solicitud.MedicoSolicitante.numero_matricula" ></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion || vm.formControl.esRP || vm.formControl.esPedidoMaterial">
					<label class="">Firma y sello</label>
					<img ng-src="{{vm.data.firmaMedico}}" alt="firmaMedico" class="img-responsive"/>
				</div>
			</div>
			<!-- Para hacer linea -->
			<div class="row fila fila-print" ng-if="vm.formControl.esPedidoMaterial"></div>
			<sa-protesis-intervencion
				ng-if="vm.formControl.esPedidoMaterial"
				title="Prescripción de elementos solicitados"
				model="vm.data.solicitud.ProtesisPreadmision"
				full="true"
				print="true">
			</sa-protesis-intervencion>
		</sa-modal-body>
		<sa-modal-footer>
			<div class="row fila fila-print" ng-if="vm.formControl.esOrdenInternacion">
				<div class="col-xs-6 text-center">
					<div class="row">..............................</div>
					<div class="row">Firma aclarada</div>
				</div>
				<div class="col-xs-6 text-center">
					<div class="row">..............................</div>
					<div class="row">Sello Obra Social</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-6  ">
					<div class="pull-left">Usuario: <span>{{ vm.data.user.userName }}</span></div>
				</div>
			</div>
		</sa-modal-footer>
	</div>
	<!-- ToDo: Copia del modal. Ir actualizando -->
	<div class="page" ng-if="vm.formControl.esOrdenInternacion">
		<sa-modal-header
			print="true"
			fecha="vm.today"
			sucursal="vm.data.solicitud.Sucursal">

			<h4 ng-if="vm.formControl.esOrdenInternacion">ORDEN DE INTERNACIÓN Nº {{ vm.numeroSolicitud }}</h4>
			<h4 ng-if="vm.formControl.esRP">Rp/ Nº {{ vm.numeroSolicitud }}</h4>
			<h4 ng-if="vm.formControl.esPedidoMaterial">Pedido de Materiales Nº {{ vm.numeroSolicitud }}</h4>
			<h4 ng-if="vm.formControl.esVer">Ver solicitud Nº {{ vm.numeroSolicitud }}</h4>
		</sa-modal-header>
		<sa-modal-body loading="vm.formControl.dataLoading">
			<sa-paciente-print
				title="Datos del paciente"
				model="vm.data.solicitud.Paciente" >
			</sa-paciente-print>
			<sa-afiliacion-internado
				print="true"
				model="vm.data.solicitud.IntervencionAdmision">
			</sa-afiliacion-internado>
			<div class="row fila fila-print">
				<h4>Datos de admisión</h4>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Fecha de Preadmision</label>
					<div ng-bind="vm.data.solicitud.fecha_solicitud | date : 'dd/MM/yyyy'"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion && vm.data.solicitud.IntervencionAdmision.fecha_cirugia_probable != null">
					<label class="">Fecha de cirugía</label>
					<div ng-bind="vm.data.solicitud.IntervencionAdmision.fecha_cirugia_probable | date : 'dd/MM/yyyy'"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Fecha de internación</label>
					<div ng-bind="vm.data.solicitud.fecha_admision_probable | date : 'dd/MM/yyyy'"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Cant. total de días</label>
					<div ng-bind="vm.data.solicitud.cantidad_dias_internacion"></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Cant. detallada de días</label>
					<ul>
						<li ng-repeat="dia in vm.data.solicitud.DiasInternacion" ng-if="dia.cantidad_dias">
							<span>
								{{ dia.CategoriaHabitacion.nombre_categoria }} : {{ dia.cantidad_dias }}
							</span>
						</li>
					</ul>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion">
					<label class="">Establecimiento Asistencial</label>
					<div >Sanatorio Allende S.A.</div>
				</div>
				<div class="col-xs-12 ">
					<label class="">Diagnóstico</label>
					<div ng-bind="vm.data.solicitud.diagnostico"></div>
				</div>
				<div class="col-xs-12 " ng-if="vm.formControl.esRP || vm.formControl.esPedidoMaterial || vm.formControl.esOrdenInternacion">
					<label>Procedimientos</label>
					<ul>
						<li ng-repeat="detalle in vm.data.solicitud.IntervencionAdmision.DetallesIntervencion | filter:{id_origen_practica:29}">
							{{ detalle.PracticaMedica.codigo_practica_medica }} - {{ detalle.PracticaMedica.nombre_practica_medica }}
						</li>
					</ul>
				</div>
			</div>
			<div class="row fila-print">
				<h4>Datos del médico solicitante</h4>
				<div class="col-xs-5 ">
					<label class="">Nombre y apellido</label>
					<div ng-bind="vm.data.solicitud.MedicoSolicitante.nombre_completo" ></div>
				</div>
				<div class="col-xs-2 ">
					<label class="">Matrícula</label>
					<div ng-bind="vm.data.solicitud.MedicoSolicitante.numero_matricula" ></div>
				</div>
				<div class="col-xs-3 "
					ng-if="vm.formControl.esOrdenInternacion || vm.formControl.esRP || vm.formControl.esPedidoMaterial">
					<label class="">Firma y sello</label>
					<img ng-src="{{vm.data.firmaMedico}}" alt="firmaMedico" class="img-responsive"/>
				</div>
			</div>
			<!-- Para hacer linea -->
			<div class="row fila fila-print" ng-if="vm.formControl.esPedidoMaterial"></div>
			<sa-protesis-intervencion
				ng-if="vm.formControl.esPedidoMaterial"
				title="Prescripción de elementos solicitados"
				model="vm.data.solicitud.ProtesisPreadmision"
				print="true">
			</sa-protesis-intervencion>
		</sa-modal-body>
		<sa-modal-footer>
			<div class="row fila fila-print" ng-if="vm.formControl.esOrdenInternacion">
				<div class="col-xs-6 text-center">
					<div class="row">..............................</div>
					<div class="row">Firma aclarada</div>
				</div>
				<div class="col-xs-6 text-center">
					<div class="row">..............................</div>
					<div class="row">Sello Obra Social</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-6  ">
					<div class="pull-left">Usuario: <span>{{ vm.data.user.userName }}</span></div>
				</div>
			</div>
		</sa-modal-footer>
	</div>
</div>